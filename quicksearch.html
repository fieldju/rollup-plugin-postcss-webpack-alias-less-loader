<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"replaceAliases.js.html":{"id":"replaceAliases.js.html","title":"Source: replaceAliases.js","body":" Measured Classes RollupFileManager Global replaceAliasesrollupPostcssLessLoader Source: replaceAliases.js const aliasRegex = alias =&gt; { return new RegExp(`(@import.*?)([\"'])~${alias}([\"'/])(.*?;)`, 'g'); }; const nodeModuleRegex = new RegExp(/(@import.*?)[\"']~(.*?)[\"'].*?/g); /** * This function takes the unparsed less code and replaces instances of webpack style aliases with the resolved alias. * * @param {string} code The unparsed less code. * @param {Object.&lt;string, string&gt;} aliases The user defined aliases. * @param {string} nodeModulePath The root node modules path. * @return {string} The less parsable code with aliases resolved. */ const replaceAliases = (code, aliases, nodeModulePath) =&gt; { Object.keys(aliases).forEach(alias =&gt; { code = code.replace(aliasRegex(alias), `$1$2${aliases[alias]}$3$4`); }); code = code.replace(nodeModuleRegex, `$1\"${nodeModulePath}/$2\"`); return code; }; module.exports = replaceAliases; × Search results Close "},"RollupFileManager.js.html":{"id":"RollupFileManager.js.html","title":"Source: RollupFileManager.js","body":" Measured Classes RollupFileManager Global replaceAliasesrollupPostcssLessLoader Source: RollupFileManager.js const less = require('less'); const replaceAliases = require('./replaceAliases'); /** * Custom file manager for less to support webpack style aliases. * This file manager loads the requested file and replaces instances of aliased imports before returning the file * contents for less to parse. * * Originally inspired by https://github.com/webpack-contrib/less-loader/blob/99aad2171e9784cecef2e7820fb8300698fe7007/src/createWebpackLessPlugin.js#L36 */ class RollupFileManager extends less.FileManager { /** * @param {Object.&lt;string, string&gt;} aliases The user defined aliases. * @param {string} nodeModulePath The root node modules path. */ constructor(aliases, nodeModulePath) { super(); this._aliases = aliases; this._node_modulesPath = nodeModulePath; } supports() { return true; } supportsSync() { return false; } async loadFile(filename, currentDirectory, options, environment) { const file = await super.loadFile(filename, currentDirectory, options, environment); file.contents = replaceAliases(file.contents, this._aliases, this._node_modulesPath); return file; } } module.exports = RollupFileManager; × Search results Close "},"index.js.html":{"id":"index.js.html","title":"Source: index.js","body":" Measured Classes RollupFileManager Global replaceAliasesrollupPostcssLessLoader Source: index.js const importCwd = require('import-cwd'); const pify = require('pify'); const path = require('path'); const { validateRollupPostcssLessLoaderOptions } = require('./validators'); const RollupFileManager = require('./RollupFileManager'); const replaceAliases = require('./replaceAliases'); const humanlizePath = filepath =&gt; path.relative(process.cwd(), filepath); /** * Rollup Postcss Less Loader that is capable of resolving webpack style aliases * * Inspired by https://github.com/egoist/rollup-plugin-postcss/blob/5596ca978bee3d5c4da64c8ddd130ca3d8e77244/src/less-loader.js * but modified to use a custom file manager and resolve webpack aliases. * * @param options Information about the user. * @param {Object.&lt;string, string&gt;} options.aliases The user defined aliases. * @param {string} [options.nodeModulePath] The root node modules path, defaults to 'node_modules' */ const rollupPostcssLessLoader = options =&gt; { validateRollupPostcssLessLoaderOptions(options); options.nodeModulePath = options.nodeModulePath || 'node_modules'; const rollupFileManager = new RollupFileManager(options.aliases, options.nodeModulePath); return { name: 'less', test: /\\.less$/, async process({ code }) { code = replaceAliases(code, options.aliases, options.nodeModulePath); const less = importCwd('less'); let { css, map, imports } = await pify(less.render.bind(importCwd('less')))(code, { ...this.options, sourceMap: this.sourceMap &amp;&amp; {}, filename: this.id, plugins: [ { install(lessInstance, pluginManager) { pluginManager.addFileManager(rollupFileManager); }, minVersion: [2, 1, 1] } ] }); imports.forEach(dep =&gt; { this.dependencies.add(dep); }); if (map) { map = JSON.parse(map); map.sources = map.sources.map(source =&gt; humanlizePath(source)); } return { code: css, map }; } }; }; module.exports = rollupPostcssLessLoader; × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" Measured Classes RollupFileManager Global replaceAliasesrollupPostcssLessLoader Global Methods replaceAliases(code, aliases, nodeModulePath) This function takes the unparsed less code and replaces instances of webpack style aliases with the resolved alias. Parameters: Name Type Description code string The unparsed less code. aliases Object.&lt;string, string&gt; The user defined aliases. nodeModulePath string The root node modules path. Source: replaceAliases.js, line 14 Returns: The less parsable code with aliases resolved. Type string rollupPostcssLessLoader(options) Rollup Postcss Less Loader that is capable of resolving webpack style aliases Inspired by https://github.com/egoist/rollup-plugin-postcss/blob/5596ca978bee3d5c4da64c8ddd130ca3d8e77244/src/less-loader.js but modified to use a custom file manager and resolve webpack aliases. Parameters: Name Type Description options Information about the user. Properties Name Type Argument Description aliases Object.&lt;string, string&gt; The user defined aliases. nodeModulePath string &lt;optional&gt; The root node modules path, defaults to 'node_modules' Source: index.js, line 20 × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Measured Classes RollupFileManager Global replaceAliasesrollupPostcssLessLoader Classes Classes RollupFileManager × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" Measured Classes RollupFileManager Global replaceAliasesrollupPostcssLessLoader Rollup Plugin Postcss Webpack Alias Less Loader This is a custom loader for Rollup Plugin Postcss that allows users to define webpack style aliases and have them resolve. ex: @import \"~bootstrap/less/common.less\"; @import \"~myAlias\"; ~ will get resolved to node_modules by default but is overridable. usage below is a complete example that is used along side webpack to generate cjs and es modules: const alias = require('rollup-plugin-alias'); // Cant use rollup-plugin-typescript until the following issue is resolved, rollup-plugin-typescript2 is slow, but works :( // https://github.com/rollup/rollup-plugin-typescript/issues/109 // const typescript = require('rollup-plugin-typescript'); const typescript = require('rollup-plugin-typescript2'); const postcss = require('rollup-plugin-postcss'); const path = require('path'); const { minify } = require('html-minifier'); const external = require('@yelo/rollup-node-external'); const rollupPostcssLessLoader = require('rollup-plugin-postcss-webpack-alias-less-loader') // Slurp in the webpack config so we don't have to duplicate aliases. const webpackConfig = require('./webpack.config'); const aliases = webpackConfig.resolve.alias; const NODE_MODULE_PATH = path.resolve('../../../../node_modules'); const CONFIG = { external: external({ modulesDir: NODE_MODULE_PATH, }), input: [webpackConfig.entry.lib], output: { name: 'core', file: 'lib/lib.es.js', format: 'es', sourcemap: true }, treeshake: true, plugins: [ { // LOGGING PLUGIN transform(code, id) { console.log(`Processing: '${id}'`); }, }, alias({ resolve: ['.ts', '.tsx', '/index.ts', '/index.tsx'], ...aliases, }), typescript({ check: false, }), postcss({ loaders: [rollupPostcssLessLoader({ nodeModulePath: NODE_MODULE_PATH, aliases: aliases })], }), { // HTML TEMPLATE PLUGIN transform(code, id) { if (id.endsWith('.html')) { return { code: `export default ${JSON.stringify(minify(code, {}))}`, map: { mappings: '' }, }; } }, }, ], }; module.exports = { default: CONFIG, }; × Search results Close "},"RollupFileManager.html":{"id":"RollupFileManager.html","title":"Class: RollupFileManager","body":" Measured Classes RollupFileManager Global replaceAliasesrollupPostcssLessLoader Class: RollupFileManager RollupFileManager Custom file manager for less to support webpack style aliases. This file manager loads the requested file and replaces instances of aliased imports before returning the file contents for less to parse. Originally inspired by https://github.com/webpack-contrib/less-loader/blob/99aad2171e9784cecef2e7820fb8300698fe7007/src/createWebpackLessPlugin.js#L36 new RollupFileManager(aliases, nodeModulePath) Parameters: Name Type Description aliases Object.&lt;string, string&gt; The user defined aliases. nodeModulePath string The root node modules path. Source: RollupFileManager.js, line 16 × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
